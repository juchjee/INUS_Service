/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.62
 * Generated at: 2019-10-22 05:35:18 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp.erp.scm.work.partners.remicon;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;

public final class remiconS_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("var layout, toolbar, subLayout\r\n");
      out.write("var gridMain, gridSub;\r\n");
      out.write("var calMain; \r\n");
      out.write("var PscrnParm = parent.scrnParm;\r\n");
      out.write("var mainTabbar = parent.mainTabbar;\r\n");
      out.write("var ActTabId = parent.ActTabId;\r\n");
      out.write("var custCd = null, invoiceNo = null, scmYn = null;\r\n");
      out.write("var rfidSqNoVal = null;\r\n");
      out.write("var sumItemQn = 0;\r\n");
      out.write("$(document).ready(function(){\r\n");
      out.write("\tUbi.setContainer(1,[1,3,4,6],\"3E\"); //납품등록RFID\r\n");
      out.write("\t\r\n");
      out.write("\tlayout = Ubi.getLayout();\r\n");
      out.write("    toolbar = Ubi.getToolbar();\r\n");
      out.write("    subLayout = Ubi.getSubLayout(); \r\n");
      out.write("\t\r\n");
      out.write("\tlayout.cells(\"b\").attachObject(\"bootContainer\");\r\n");
      out.write("\t\r\n");
      out.write("\tsubLayout.cells(\"a\").attachObject(\"bootContainer2\");\r\n");
      out.write("\tsubLayout.cells(\"a\").showHeader();\r\n");
      out.write("    subLayout.cells(\"a\").setText(\"의뢰정보\");\r\n");
      out.write("    subLayout.cells(\"a\").setHeight(240);\r\n");
      out.write("    \r\n");
      out.write("    subLayout.cells(\"b\").attachObject(\"bootContainer3\");\r\n");
      out.write("\tsubLayout.cells(\"b\").showHeader();\r\n");
      out.write("    subLayout.cells(\"b\").setText(\"등록정보\");\r\n");
      out.write("    subLayout.cells(\"b\").setHeight(180);\r\n");
      out.write("\t\r\n");
      out.write("\tsubLayout.cells(\"c\").showHeader()\r\n");
      out.write("    subLayout.cells(\"c\").setText(\"RFID정보\")\r\n");
      out.write("    gridMain = new dxGrid(subLayout.cells(\"c\"),false);\r\n");
      out.write("\tgridMain.addHeader({name:\"현장코드\",    colId:\"siteCd\",   width:\"60\",     align:\"left\",   type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"현장명\",      colId:\"siteDs\",   width:\"120\",   align:\"left\",   type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"발주서번호\",   colId:\"poNo\",     width:\"90\",   align:\"left\",   type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"청구서번호\",   colId:\"mrNo\",     width:\"90\",   align:\"left\",   type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"견적의뢰번호\",  colId:\"inqNo\",    width:\"90\",   align:\"left\",   type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"송장번호\",    colId:\"invoiceNo\", width:\"90\",   align:\"left\",   type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"거래처코드\",   colId:\"custCd\",   width:\"80\",    align:\"left\",    type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"거래처명\",    colId:\"custDs\",    width:\"100\",   align:\"left\",   type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"RFID_NO\",   colId:\"rfidNo\",    width:\"150\",   align:\"left\",    type:\"ed\"});\r\n");
      out.write("    gridMain.addHeader({name:\"RFID순번\",   colId:\"rfidsqNo\",  width:\"70\",   align:\"center\",  type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"품목코드\",    colId:\"itemCd\",    width:\"70\",   align:\"left\",    type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"접수수량\",    colId:\"itemQn\",     width:\"60\",   align:\"right\",  type:\"edn\"});\r\n");
      out.write("    gridMain.addHeader({name:\"차량번호\",    colId:\"carNo\",      width:\"80\",   align:\"left\",   type:\"ed\"});\r\n");
      out.write("    gridMain.addHeader({name:\"비고\",       colId:\"rmks\",       width:\"100\",  align:\"left\",   type:\"ed\"});\r\n");
      out.write("    gridMain.addHeader({name:\"입/출예정일자\", colId:\"outputDt\",  width:\"80\",   align:\"center\", type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"입고시간\",    colId:\"inputcDt\",   width:\"90\",   align:\"center\", type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"출고시간\",    colId:\"outputcDt\",  width:\"90\",   align:\"center\", type:\"ro\"});\r\n");
      out.write("    gridMain.addHeader({name:\"발행일자\",    colId:\"invoiceDt\",  width:\"80\",   align:\"center\", type:\"ro\"});\r\n");
      out.write("    gridMain.setUserData(\"\",\"pk\",\"\");\r\n");
      out.write("    gridMain.dxObj.setUserData(\"\",\"@outputDt\",\"format_date\");\r\n");
      out.write("    gridMain.dxObj.setUserData(\"\",\"@invoiceDt\",\"format_date\");\r\n");
      out.write("    gridMain.dxObj.enableHeaderMenu(\"false\");\r\n");
      out.write("    gridMain.init();\r\n");
      out.write("    gridMain.cs_setColumnHidden([\"sqNo\",\"costId\",\"scmYn\",\"orderQn\",\"deliSeq\",\"jungsanYn\",\"oldItemQn\",\"rfidNoOld\",\"rfidsqNoOld\"]);\r\n");
      out.write("    gridMain.cs_setNumberFormat([\"itemQn\"],\"0,000.000\");\r\n");
      out.write("\r\n");
      out.write("    getjsonData();\r\n");
      out.write("\r\n");
      out.write("    fn_search();\r\n");
      out.write("    \r\n");
      out.write("\t$('#rfidNo').keypress(function(e){\r\n");
      out.write(" \t\tif(e.which == '13'){\r\n");
      out.write(" \t\t\tgridMainAddRow();\r\n");
      out.write(" \t\t}\r\n");
      out.write(" \t});\r\n");
      out.write("    \r\n");
      out.write("});\r\n");
      out.write("function getjsonData(){\r\n");
      out.write(" \tif(PARAM_INFO.custCd != undefined){\r\n");
      out.write(" \t\tcustCd = PARAM_INFO.custCd;\r\n");
      out.write(" \t\t$('#custCd2').val(PARAM_INFO.custCd);\r\n");
      out.write(" \t\t$('#paramCustCd').val(PARAM_INFO.custCd);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.custDs != undefined){\r\n");
      out.write(" \t\t$('#custDs2').val(PARAM_INFO.custDs);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.invoiceNo != undefined){\r\n");
      out.write(" \t\tinvoiceNo = PARAM_INFO.invoiceNo;\r\n");
      out.write(" \t\t$('#paramInvoiceNo').val(PARAM_INFO.invoiceNo);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.scmYn != undefined){\r\n");
      out.write(" \t\tscmYn = PARAM_INFO.scmYn;\r\n");
      out.write(" \t\t$('#paramScmYn').val(PARAM_INFO.scmYn);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.siteCd != undefined){\r\n");
      out.write(" \t\tsiteCd = PARAM_INFO.siteCd;\r\n");
      out.write(" \t\t$('#paramSiteCd').val(PARAM_INFO.siteCd);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.mrNo != undefined){\r\n");
      out.write(" \t\tmrNo = PARAM_INFO.mrNo;\r\n");
      out.write(" \t\t$('#paramMrNo').val(PARAM_INFO.mrNo);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.inqNo != undefined){\r\n");
      out.write(" \t\tinqNo = PARAM_INFO.inqNo;\r\n");
      out.write(" \t\t$('#paramInqNo').val(PARAM_INFO.inqNo);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.poNo != undefined){\r\n");
      out.write(" \t\tpoNo = PARAM_INFO.poNo;\r\n");
      out.write(" \t\t$('#paramPoNo').val(PARAM_INFO.poNo);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.sqNo != undefined){\r\n");
      out.write(" \t\tsqNo = PARAM_INFO.sqNo;\r\n");
      out.write(" \t\t$('#paramSqNo').val(PARAM_INFO.sqNo);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.costId != undefined){\r\n");
      out.write(" \t\tcostId = PARAM_INFO.costId;\r\n");
      out.write(" \t\t$('#paramCostId').val(PARAM_INFO.costId);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.deliSeq != undefined){\r\n");
      out.write(" \t\tdeliSeq = PARAM_INFO.deliSeq;\r\n");
      out.write(" \t\t$('#paramDeliSeq').val(PARAM_INFO.deliSeq);\r\n");
      out.write("\t}\r\n");
      out.write(" \tif(PARAM_INFO.outputDt != undefined){\r\n");
      out.write(" \t\toutputDt = PARAM_INFO.outputDt;\r\n");
      out.write(" \t\t$('#outputDt').val(PARAM_INFO.outputDt);\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_search(){\r\n");
      out.write("\tvar obj = {};\r\n");
      out.write("\tobj.custCd = $('#paramCustCd').val();\r\n");
      out.write("\tobj.invoiceNo = $('#paramInvoiceNo').val();\r\n");
      out.write("\tobj.scmYn = $('#paramScmYn').val();\r\n");
      out.write("\tobj.siteCd = $('#paramSiteCd').val();\r\n");
      out.write("\tobj.mrNo = $('#paramMrNo').val();\r\n");
      out.write("\tobj.inqNo = $('#paramInqNo').val();\r\n");
      out.write("\tobj.poNo = $('#paramPoNo').val();\r\n");
      out.write("\tobj.sqNo = $('#paramSqNo').val();\r\n");
      out.write("\tobj.costId = $('#paramCostId').val();\r\n");
      out.write("\tobj.deliSeq = $('#paramDeliSeq').val();\r\n");
      out.write("\tif(obj.scmYn == ''){\r\n");
      out.write("\t\tobj.scmYn = 1;\r\n");
      out.write("\t}\r\n");
      out.write("\tgfn_callAjaxForForm(\"frmMain\",obj,\"/erp/scm/work/partners/remicon/remiconS/formSearch\",fn_searchCB);\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_searchCB(data){\r\n");
      out.write("\tif(data != ''){\r\n");
      out.write("\t\tvar itemQn = data[0].itemQn;\r\n");
      out.write("\t\tvar orderQn = 0;\r\n");
      out.write("\t\tvar getRowsNum = gridMain.getRowsNum();\r\n");
      out.write("\t\tif(getRowsNum != 0){\r\n");
      out.write("\t\t\tfor(var i=0;i<getRowsNum;i++){\r\n");
      out.write("\t\t\t\tvar orderQn = orderQn + gridMain.setCells2(i,gridMain.getColIndexById(\"itemQn\")).getValue()*1;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\torderQn = itemQn - orderQn;\r\n");
      out.write("\t\t\tif(orderQn > 5){\r\n");
      out.write("\t\t\t\t$('#orderQn').val('6');\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\t$('#orderQn').val(orderQn);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\torderQn = itemQn;\r\n");
      out.write("\t\t\tif(orderQn > 5){\r\n");
      out.write("\t\t\t\t$('#orderQn').val('6');\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\t$('#orderQn').val(orderQn);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tvar obj = {};\r\n");
      out.write("\t\tobj.scmYn = $('#paramScmYn').val();\r\n");
      out.write("\t\tobj.poNo = data[0].poNo;\r\n");
      out.write("\t\tobj.mrNo= data[0].mrNo;\r\n");
      out.write("\t\tobj.inqNo = data[0].inqNo;\r\n");
      out.write("\t\tobj.invoiceNo = data[0].invoiceNo;\r\n");
      out.write("\t\tobj.siteCd = data[0].siteCd;\r\n");
      out.write("\t\tobj.custCd = data[0].custCd;\r\n");
      out.write("\t\tobj.costId = data[0].costId;\r\n");
      out.write("\t\tobj.deliSeq = data[0].deliSeq;\r\n");
      out.write("\t\tobj.sqNo = $('#paramSqNo').val();\r\n");
      out.write("\t\tgfn_callAjaxForGrid(gridMain,obj,\"/erp/scm/work/partners/remicon/remiconS/gridMainSearch\",subLayout.cells(\"c\"),fn_sub01SearchCB);\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_sub01SearchCB(data){\r\n");
      out.write("\tif(data != ''){\r\n");
      out.write("\t\tfor(var i=0;i<gridMain.getRowsNum();i++){\r\n");
      out.write("\t\t\tvar inputcDt = gridMain.setCells2(i,gridMain.getColIndexById(\"inputcDt\")).getValue();\r\n");
      out.write("\t\t\tvar outputcDt = gridMain.setCells2(i,gridMain.getColIndexById(\"outputcDt\")).getValue();\r\n");
      out.write("\t\t\tif(inputcDt != '' || outputcDt != ''){\r\n");
      out.write("\t\t\t\tgridMain.setCellExcellType(gridMain.getRowId(i),gridMain.getColIndexById(\"carNo\"),\"ro\");\r\n");
      out.write("\t\t\t\tgridMain.setCellExcellType(gridMain.getRowId(i),gridMain.getColIndexById(\"rfidNo\"),\"ro\");\r\n");
      out.write("\t\t\t\tgridMain.setCellExcellType(gridMain.getRowId(i),gridMain.getColIndexById(\"itemQn\"),\"ron\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function gridMainAddRow(){\r\n");
      out.write("\tvar rfidFlag = true;\r\n");
      out.write("\tvar insertRfidNo = $('#rfidNo').val();\r\n");
      out.write("\tvar orderQn = $('#itemQn').val().split(\",\").join(\"\");\r\n");
      out.write("\tvar itemQn = 0;\r\n");
      out.write("\tvar insertItemQn = $('#orderQn').val()*1;\r\n");
      out.write("\tvar getRowsNum = gridMain.getRowsNum();\r\n");
      out.write("\tif(getRowsNum != 0){\r\n");
      out.write("\t\tfor(var i=0;i<getRowsNum;i++){\r\n");
      out.write("\t\t\t itemQn = itemQn + gridMain.setCells2(i,gridMain.getColIndexById(\"itemQn\")).getValue()*1;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tif(insertItemQn == 0){\r\n");
      out.write("\t\trfidFlag =  false;\r\n");
      out.write("\t}else if(itemQn > orderQn){\r\n");
      out.write("\t\trfidFlag =  false;\r\n");
      out.write("\t}else if((itemQn+insertItemQn)>orderQn){\r\n");
      out.write("\t\tdhtmlx.alert(\"청구수량을 초과하였습니다.\");\r\n");
      out.write("\t\t $('#orderQn').val(orderQn-itemQn);\r\n");
      out.write("\t\t var orderQnFlag = orderQn-itemQn;\r\n");
      out.write("\t\tif(orderQnFlag > 0){\r\n");
      out.write("\t\t\trfidFlag = true;\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\trfidFlag = false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tvar rfidNo = $('#rfidNo').val();\r\n");
      out.write("\tvar korCheck = /[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/;\r\n");
      out.write("\tvar engCheck = /[a-z|A-Z]/;\r\n");
      out.write("\tvar rfidNoLen = rfidNo.length*1;\r\n");
      out.write("\tif(rfidNo == ''){\r\n");
      out.write("\t\tdhtmlx.alert(\"숫자만 입력가능합니다.\");\r\n");
      out.write("\t\t$('#rfidNo').focus();\r\n");
      out.write("\t\trfidFlag = false;\r\n");
      out.write("\t\t$('#rfidNo').val('');\r\n");
      out.write("\t}else if(rfidNo.match(korCheck)){\r\n");
      out.write("\t\tdhtmlx.alert(\"숫자만 입력가능합니다.\");\r\n");
      out.write("\t\t$('#rfidNo').focus();\r\n");
      out.write("\t\trfidFlag = false;\r\n");
      out.write("\t\t$('#rfidNo').val('');\r\n");
      out.write("\t}else if(rfidNo.match(engCheck)){\r\n");
      out.write("\t\tdhtmlx.alert(\"숫자만 입력가능합니다.\");\r\n");
      out.write("\t\t$('#rfidNo').focus();\r\n");
      out.write("\t\trfidFlag = false;\r\n");
      out.write("\t\t$('#rfidNo').val('');\r\n");
      out.write("\t}else if(rfidNoLen != 10){\r\n");
      out.write("\t\t\tdhtmlx.alert({ok:\"확인\",text:\"RFID번호가 10자리가 아닙니다. 확인해주세요.\",\r\n");
      out.write("\t\t\t     callback:function(){\r\n");
      out.write("\t\t\t     $('#rfidNo').val('');\r\n");
      out.write("\t\t\t     $('#rfidNo').focus();\r\n");
      out.write("\t\t\t}});\r\n");
      out.write("\t\trfidFlag = false;\r\n");
      out.write("\t}\r\n");
      out.write("\tif(rfidFlag){\r\n");
      out.write("\t\tvar totalColNum = gridMain.getColumnCount();\r\n");
      out.write("\t\t var cnt = 1;\r\n");
      out.write("\t  \t  var data = new Array(totalColNum);\r\n");
      out.write("\t  \t  var siteCdColIdx    = gridMain.getColIndexById('siteCd');     \r\n");
      out.write("\t      var siteDsColIdx    = gridMain.getColIndexById('siteDs');\r\n");
      out.write("\t      var poNoColIdx      = gridMain.getColIndexById('poNo');\r\n");
      out.write("\t      var mrNoColIdx      = gridMain.getColIndexById('mrNo');\r\n");
      out.write("\t      var inqNoColIdx     = gridMain.getColIndexById('inqNo');\r\n");
      out.write("\t      var invoiceNoColIdx = gridMain.getColIndexById('invoiceNo');\r\n");
      out.write("\t      var custCdColIdx    = gridMain.getColIndexById('custCd');\r\n");
      out.write("\t      var custDsColIdx    = gridMain.getColIndexById('custDs');\r\n");
      out.write("\t      var rfidNoColIdx    = gridMain.getColIndexById('rfidNo');\r\n");
      out.write("\t      var itemCdColIdx    = gridMain.getColIndexById('itemCd');\r\n");
      out.write("\t      var orderQnColIdx   = gridMain.getColIndexById('orderQn');\r\n");
      out.write("\t      var rmksColIdx      = gridMain.getColIndexById('rmks');\r\n");
      out.write("\t      var outputDtColIdx  = gridMain.getColIndexById('outputDt');\r\n");
      out.write("\t      var sqNoColIdx      = gridMain.getColIndexById('sqNo');\r\n");
      out.write("\t      var costIdColIdx    = gridMain.getColIndexById('costId');\r\n");
      out.write("\t      var scmYnColIdx     = gridMain.getColIndexById('scmYn');\r\n");
      out.write("\t      var itemQnColIdx    = gridMain.getColIndexById('itemQn');\r\n");
      out.write("\t      var oldItemQnColIdx = gridMain.getColIndexById('oldItemQn');\r\n");
      out.write("\t      var invoiceDtColIdx = gridMain.getColIndexById('invoiceDt');\r\n");
      out.write("\t      var deliSeqColIdx   = gridMain.getColIndexById('deliSeq');\r\n");
      out.write("\t      var rfidsqNoColIdx  = gridMain.getColIndexById('rfidsqNo');\r\n");
      out.write("\t      \r\n");
      out.write("\t      data[siteCdColIdx]    = $('#siteCd').val(); \r\n");
      out.write("\t\t  data[siteDsColIdx]    = $('#siteDs').val(); \r\n");
      out.write("\t\t  data[poNoColIdx]      = $('#poNo').val(); \r\n");
      out.write("\t\t  data[mrNoColIdx]      = $('#mrNo').val(); \r\n");
      out.write("\t\t  data[inqNoColIdx]     = $('#inqNo').val(); \r\n");
      out.write("\t\t  data[invoiceNoColIdx] = $('#invoiceNo').val(); \r\n");
      out.write("\t\t  data[custCdColIdx]    = $('#custCd').val(); \r\n");
      out.write("\t\t  data[custDsColIdx]    = $('#custDs').val(); \r\n");
      out.write("\t\t  data[itemCdColIdx]    = $('#itemCd').val(); \r\n");
      out.write("\t\t  data[orderQnColIdx]   = $('#itemQn').val().split(\",\").join(\"\"); \r\n");
      out.write("\t\t  data[rmksColIdx]      = $('#rmks').val(); \r\n");
      out.write("\t\t  data[outputDtColIdx]  = $('#outputDt').val(); \r\n");
      out.write("\t\t  data[sqNoColIdx]      = $('#sqNo').val(); \r\n");
      out.write("\t\t  data[costIdColIdx]    = $('#costId').val(); \r\n");
      out.write("\t\t  data[scmYnColIdx]     = $('#paramScmYn').val(); \r\n");
      out.write("\t\t  data[itemQnColIdx]    = $('#orderQn').val(); \r\n");
      out.write("\t\t  data[invoiceDtColIdx] = $('#outputDt').val();\r\n");
      out.write("\t\t  data[deliSeqColIdx]   = $('#deliSeq').val();\r\n");
      out.write("\t\t  data[oldItemQnColIdx] = '0';\r\n");
      out.write("\t\t  \r\n");
      out.write("\t\t  if(data[scmYnColIdx] == ''){\r\n");
      out.write("\t\t\t  data[scmYnColIdx] = 1;\r\n");
      out.write("\t\t  }\r\n");
      out.write("\r\n");
      out.write("\t\tif(data[invoiceNoColIdx] == ''){\r\n");
      out.write("\t\t\tdata[invoiceNoColIdx] = data[siteCdColIdx]+searchDate($('#outputDt').val());\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfor(var i=0;i<gridMain.getRowsNum();i++){\r\n");
      out.write("\t\t\tvar gridRfidNo = gridMain.setCells2(i,gridMain.getColIndexById(\"rfidNo\")).getValue();\r\n");
      out.write("\t\t\tif(gridRfidNo == ($('#rfidNo').val()*1)){\r\n");
      out.write("\t\t\t\tcnt++;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tdata[rfidNoColIdx]    = $('#rfidNo').val()*1; \r\n");
      out.write("\t\tdata[rfidsqNoColIdx] = '1';\r\n");
      out.write("\t  \tgridMain.addRow(data);\r\n");
      out.write("\t  \t\r\n");
      out.write("\t  \t$('#rfidNo').val('');\r\n");
      out.write("\t  \t\r\n");
      out.write("\t  \twindow.setTimeout(function() {\r\n");
      out.write("\t  \t\tfn_save(); //20181128 요청으로 추가\r\n");
      out.write("\t    }, 100)\t//0.1초 [1초:1000]\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_save(){\r\n");
      out.write("    var obj={};\r\n");
      out.write("    obj.siteCd = $('#siteCd').val();\r\n");
      out.write("    obj.poNo = $('#poNo').val();\r\n");
      out.write("    obj.mrNo = $('#mrNo').val();\r\n");
      out.write("    obj.inqNo = $('#inqNo').val();\r\n");
      out.write("    obj.invoiceNo = $('#invoiceNo').val();\r\n");
      out.write("    gfn_callAjaxComm(obj,\"/erp/scm/work/partners/remicon/remiconS/remiconSExists\",fn_saveCB,'');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function fn_saveCB(data){\r\n");
      out.write("\tvar cnt = data[0].cnt;\r\n");
      out.write("\tvar jungsanFlag = false;\r\n");
      out.write("\tfor(var i=gridMain.getRowsNum()-1;i>=0;i--){\r\n");
      out.write("\t\tvar jungsan = gridMain.setCells2(i,gridMain.getColIndexById(\"jungsanYn\")).getValue();\r\n");
      out.write("\t\tif(jungsan == 0){\r\n");
      out.write("\t\t\tjungsanFlag = false;\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tjungsanFlag = true;\r\n");
      out.write("\t\t\tbreak;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t }\r\n");
      out.write("\tfn_remiconSumQty();\r\n");
      out.write("\tvar itemQnVal = $('#itemQn').val()*1;\r\n");
      out.write("\tvar checkQty = 0;\r\n");
      out.write("\tvar oldCheckQty = 0;\r\n");
      out.write("\tfor(var c = 0;c<gridMain.getRowsNum();c++){\r\n");
      out.write("\t\tvar cudKeyVal = gridMain.setCells2(c,gridMain.getColIndexById(\"cudKey\")).getValue();\r\n");
      out.write("\t\tif(cudKeyVal == 'INSERT' || cudKeyVal == 'UPDATE'){\r\n");
      out.write("\t\t\tcheckQty = checkQty + gridMain.setCells2(c,gridMain.getColIndexById(\"itemQn\")).getValue()*1;\r\n");
      out.write("\t\t\toldCheckQty = oldCheckQty + gridMain.setCells2(c,gridMain.getColIndexById(\"oldItemQn\")).getValue()*1;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tif(cnt != 0){\r\n");
      out.write("\t\tdhtmlx.alert(\"입고된 내역이 존재 하므로 입력,수정,삭제를 하실수 없습니다.\");\r\n");
      out.write("\t\treturn true;\r\n");
      out.write("\t}else if(jungsanFlag){\r\n");
      out.write("\t\tdhtmlx.alert(\"정산된 내역은 수정,삭제를 하실수 없습니다.\");\r\n");
      out.write("\t\treturn true;\r\n");
      out.write("\t}else if((sumItemQn-oldCheckQty)+checkQty > itemQnVal){\r\n");
      out.write("\t\tvar msgQty = (sumItemQn-oldCheckQty)+checkQty;\r\n");
      out.write("\t\tdhtmlx.alert(\"접수수량(\"+msgQty+\")이 청구수량(\"+itemQnVal+\")을 초과할수 없습니다.\");\r\n");
      out.write("\t\treturn true;\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tfn_saveRfidNo();\r\n");
      out.write("\t\tvar scmYn = $('#paramScmYn').val();\r\n");
      out.write("\t\tif(scmYn == 1){\r\n");
      out.write("\t\t\tvar jsonStr = gridMain.getJsonUpdated();\r\n");
      out.write("\t\t    if (jsonStr == null || jsonStr.length <= 0) return; \r\n");
      out.write("\t\t\t  $(\"#jsonData\").val(jsonStr);\r\n");
      out.write("\t\t   var params = $(\"#pForm\").serialize();  \r\n");
      out.write("\t\t   $.ajax({\r\n");
      out.write("\t\t    \turl:  \"/erp/scm/work/partners/remicon/remiconS/gridMainSaveScm\",\r\n");
      out.write("\t\t        type: \"POST\",\r\n");
      out.write("\t\t        contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\r\n");
      out.write("\t\t        data: params,\r\n");
      out.write("\t\t        dataType: \"json\",\r\n");
      out.write("\t\t        beforeSend: function() {\r\n");
      out.write("\t\t            subLayout.cells(\"c\").progressOn();\r\n");
      out.write("\t\t        },\r\n");
      out.write("\t\t        success: function(data,status, xhr, settings) {\r\n");
      out.write("\t\t        \tif(xhr.getResponseHeader(\"EXCEPTION\")==\"Y\") {\r\n");
      out.write("\t\t      \t\t\tvar exObj = JSON.parse(xhr.responseText);\r\n");
      out.write("\t\t      \t\t\tif(exObj.EXCEPTION_TYPE == 'BIZ'){\r\n");
      out.write("\t\t      \t\t\t\talert(MsgManager.getMsg(exObj.EXCEPTION_MSG_CODE, exObj.EXCEPTION_MSG_PARAM));\r\n");
      out.write("\t\t      \t\t\t}else{\r\n");
      out.write("\t\t      \t\t\t\talert(exObj.EXCEPTION_MSG_CODE);\r\n");
      out.write("\t\t      \t\t\t}\r\n");
      out.write("\t\t      \t\t\treturn;\r\n");
      out.write("\t\t      \t\t}else{\r\n");
      out.write("\t\t      \t\t\t//dhtmlx.alert(\"저장 되었습니다.\");\r\n");
      out.write("\t\t\t        \tfn_search(); \t\r\n");
      out.write("\t\t      \t\t}    \r\n");
      out.write("\t\t        },\r\n");
      out.write("\t\t        complete: function() {\r\n");
      out.write("\t\t        \tsubLayout.cells(\"c\").progressOff();\r\n");
      out.write("\t\t        }\r\n");
      out.write("\t\t   });\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tvar jsonStr = gridMain.getJsonUpdated();\r\n");
      out.write("\t\t    if (jsonStr == null || jsonStr.length <= 0) return; \r\n");
      out.write("\t\t\t  $(\"#jsonData\").val(jsonStr);\r\n");
      out.write("\t\t   var params = $(\"#pForm\").serialize();  \r\n");
      out.write("\t\t   $.ajax({\r\n");
      out.write("\t\t    \turl:  \"/erp/scm/work/partners/remicon/remiconS/gridMainSave\",\r\n");
      out.write("\t\t        type: \"POST\",\r\n");
      out.write("\t\t        contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\r\n");
      out.write("\t\t        data: params,\r\n");
      out.write("\t\t        dataType: \"json\",\r\n");
      out.write("\t\t        beforeSend: function() {\r\n");
      out.write("\t\t            subLayout.cells(\"c\").progressOn();\r\n");
      out.write("\t\t        },\r\n");
      out.write("\t\t        success: function(data,status,xhr, settings) {\r\n");
      out.write("\t\t        \tif(xhr.getResponseHeader(\"EXCEPTION\")==\"Y\") {\r\n");
      out.write("\t\t      \t\t\tvar exObj = JSON.parse(xhr.responseText);\r\n");
      out.write("\t\t      \t\t\tif(exObj.EXCEPTION_TYPE == 'BIZ'){\r\n");
      out.write("\t\t      \t\t\t\talert(MsgManager.getMsg(exObj.EXCEPTION_MSG_CODE, exObj.EXCEPTION_MSG_PARAM));\r\n");
      out.write("\t\t      \t\t\t}else{\r\n");
      out.write("\t\t      \t\t\t\talert(exObj.EXCEPTION_MSG_CODE);\r\n");
      out.write("\t\t      \t\t\t}\r\n");
      out.write("\t\t      \t\t\treturn;\r\n");
      out.write("\t\t      \t\t}else{\r\n");
      out.write("\t\t      \t\t\t//dhtmlx.alert(\"저장 되었습니다.\");\r\n");
      out.write("\t\t\t        \tfn_search(); \t\r\n");
      out.write("\t\t      \t\t}       \r\n");
      out.write("\t\t        },\r\n");
      out.write("\t\t        complete: function() {\r\n");
      out.write("\t\t        \tsubLayout.cells(\"c\").progressOff();\r\n");
      out.write("\t\t        }\r\n");
      out.write("\t\t   });\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_saveRfidNo(){\r\n");
      out.write("\tfor(var i=0;i<gridMain.getRowsNum();i++){\r\n");
      out.write("\t\tvar cudKey = gridMain.setCells2(i,gridMain.getColIndexById(\"cudKey\")).getValue();\r\n");
      out.write("\t\tvar chkRfid = gridMain.setCells2(i,gridMain.getColIndexById(\"rfidNo\")).getValue();\r\n");
      out.write("\t\tvar chkRfidOld = gridMain.setCells2(i,gridMain.getColIndexById(\"rfidNoOld\")).getValue();\r\n");
      out.write("\t\tif((cudKey == 'INSERT' || cudKey == 'UPDATE') && (chkRfid != chkRfidOld)){\r\n");
      out.write("\t\tif(i == 0){\r\n");
      out.write("\t\t\tvar rfidNo = gridMain.setCells2(i,gridMain.getColIndexById(\"rfidNo\")).getValue()*1;\r\n");
      out.write("\t\t\tfn_rfidSqNoChk(rfidNo);\r\n");
      out.write("\t\t\tvar rfidSqNo = rfidSqNoVal;\r\n");
      out.write("\t\t\tgridMain.setCells2(i,gridMain.getColIndexById(\"rfidsqNo\")).setValue(rfidSqNo);\r\n");
      out.write("\t\t\trfidSqNoVal = null;\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tvar cnt = 1;\r\n");
      out.write("\t\t\tvar rfidNo = gridMain.setCells2(i,gridMain.getColIndexById(\"rfidNo\")).getValue()*1;\r\n");
      out.write("\t\t\tfn_rfidSqNoChk(rfidNo);\r\n");
      out.write("\t\t\tvar rfidSqNo = rfidSqNoVal;\r\n");
      out.write("\t\t\tfor(var j=0;j<i;j++){\r\n");
      out.write("\t\t\t\tvar subRfidNo = gridMain.setCells2(j,gridMain.getColIndexById(\"rfidNo\")).getValue()*1;\r\n");
      out.write("\t\t\t\tif(rfidNo == subRfidNo){\r\n");
      out.write("\t\t\t\t\tcnt++;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(cnt == 1){\r\n");
      out.write("\t\t\t\tgridMain.setCells2(i,gridMain.getColIndexById(\"rfidsqNo\")).setValue(rfidSqNo);\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tvar rfidNoSqFlag = true;\r\n");
      out.write("\t\t\t\tvar subRfidSqNo = 0;\r\n");
      out.write("\t\t\t\tif(rfidSqNo > 1){\r\n");
      out.write("\t\t\t\t\tfor(var j=0;j<i;j++){\r\n");
      out.write("\t\t\t\t\t\tvar subRfidNo = gridMain.setCells2(j,gridMain.getColIndexById(\"rfidNo\")).getValue()*1;\r\n");
      out.write("\t\t\t\t\t\tvar subRfidSqNo = gridMain.setCells2(j,gridMain.getColIndexById(\"rfidsqNo\")).getValue();\r\n");
      out.write("\t\t\t\t\t\tif(rfidNo == subRfidNo && rfidSqNo == subRfidSqNo){\r\n");
      out.write("\t\t\t\t\t\t\trfidNoSqFlag = false;\r\n");
      out.write("\t\t\t\t\t\t\tsubRfidSqNo = gridMain.setCells2(j,gridMain.getColIndexById(\"rfidsqNo\")).getValue()*1;\r\n");
      out.write("\t\t\t\t\t\t\tbreak;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\tif(rfidNoSqFlag){\r\n");
      out.write("\t\t\t\t\t\tgridMain.setCells2(i,gridMain.getColIndexById(\"rfidsqNo\")).setValue(rfidSqNo);\r\n");
      out.write("\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\tsubRfidSqNo = subRfidSqNo+1;\r\n");
      out.write("\t\t\t\t\t\t gridMain.setCells2(i,gridMain.getColIndexById(\"rfidsqNo\")).setValue(subRfidSqNo);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t   gridMain.setCells2(i,gridMain.getColIndexById(\"rfidsqNo\")).setValue(cnt);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t  }\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_rfidSqNoChk(rfidNo){\r\n");
      out.write("\tvar obj = {};\r\n");
      out.write("\tobj.siteCd = $('#siteCd').val();\r\n");
      out.write("\tobj.invoiceDt = searchDate($('#outputDt').val());\r\n");
      out.write("\tobj.rfidNo = rfidNo;\t\r\n");
      out.write("\tgfn_callAjax(obj,\"/erp/scm/work/partners/remicon/remiconS/selRfidSqNo\", fn_rfidSqNoChkCB);\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_rfidSqNoChkCB(data){\r\n");
      out.write("\tif(data != ''){\r\n");
      out.write("\t\trfidSqNoVal = data[0].rfidsqNo;\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function fn_remiconSumQty(){\r\n");
      out.write("\tvar obj = {};\r\n");
      out.write("\tobj.custCd = $('#paramCustCd').val();\r\n");
      out.write("\tobj.invoiceNo = $('#paramInvoiceNo').val();\r\n");
      out.write("\tobj.scmYn = $('#paramScmYn').val();\r\n");
      out.write("\tobj.siteCd = $('#paramSiteCd').val();\r\n");
      out.write("\tobj.mrNo = $('#paramMrNo').val();\r\n");
      out.write("\tobj.inqNo = $('#paramInqNo').val();\r\n");
      out.write("\tobj.poNo = $('#paramPoNo').val();\r\n");
      out.write("\tobj.sqNo = $('#paramSqNo').val();\r\n");
      out.write("\tobj.costId = $('#paramCostId').val();\r\n");
      out.write("\tobj.deliSeq = $('#paramDeliSeq').val();\r\n");
      out.write("\tif(obj.scmYn == ''){\r\n");
      out.write("\t\tobj.scmYn = 1;\r\n");
      out.write("\t}\r\n");
      out.write("\tgfn_callAjaxComm(obj, \"/erp/scm/work/partners/remicon/remiconS/selRemiconSumItemQn\", fn_remiconQtyCB, '');\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_remiconQtyCB(data){\r\n");
      out.write("\tif(data != ''){\r\n");
      out.write("\t\tsumItemQn = data[0].itemQn;\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tsumItemQn = 0;\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_remove(){\r\n");
      out.write("\tvar removeFlag = false;\r\n");
      out.write("\tfor(var i=gridMain.getRowsNum()-1;i>=0;i--){\r\n");
      out.write("\t\tvar jungsan = gridMain.setCells2(i,gridMain.getColIndexById(\"jungsanYn\")).getValue();\r\n");
      out.write("\t\tvar inputcDt = gridMain.setCells2(i,gridMain.getColIndexById(\"inputcDt\")).getValue();\r\n");
      out.write("\t\tvar outputcDt = gridMain.setCells2(i,gridMain.getColIndexById(\"outputcDt\")).getValue();\r\n");
      out.write("\t\tif(inputcDt != '' || outputcDt != ''){\r\n");
      out.write("\t\t\tdhtmlx.alert(\"입고나 출고된 내역은 삭제하실수 없습니다.\");\r\n");
      out.write("\t\t\treturn true;\r\n");
      out.write("\t\t}else if(jungsan == 0){\r\n");
      out.write("\t\t\tremoveFlag = true;\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tdhtmlx.alert(\"정산된 내역은 수정,삭제가 불가능합니다.\");\r\n");
      out.write("\t\t\treturn true;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t }\r\n");
      out.write("\tif(removeFlag){\r\n");
      out.write("\t\tif(MsgManager.confirmMsg(\"INF002\")){\r\n");
      out.write("\t\t\tfor(var i=gridMain.getRowsNum()-1;i>=0;i--){\r\n");
      out.write("\t\t\t\tgridMain.cs_deleteRow(gridMain.getRowId(i));\r\n");
      out.write("\t\t\t }\r\n");
      out.write("\t\t\tfn_rmoveAction();\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\treturn true;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_delete(){\r\n");
      out.write("\tvar rodid = gridMain.getSelectedRowId();\r\n");
      out.write("\tvar jungsan = gridMain.setCells(rodid,gridMain.getColIndexById(\"jungsanYn\")).getValue();\r\n");
      out.write("\tvar inputcDt = gridMain.setCells(rodid,gridMain.getColIndexById(\"inputcDt\")).getValue();\r\n");
      out.write("\tvar outputcDt = gridMain.setCells(rodid,gridMain.getColIndexById(\"outputcDt\")).getValue();\r\n");
      out.write("\tif(inputcDt != '' || outputcDt != ''){\r\n");
      out.write("\t\tdhtmlx.alert(\"입고나 출고된 내역은 삭제하실수 없습니다.\");\r\n");
      out.write("\t\treturn true;\r\n");
      out.write("\t}else if(jungsan == 0){\r\n");
      out.write("\t\tvar cudKey = gridMain.setCells(rodid,gridMain.getColIndexById(\"cudKey\")).getValue();\r\n");
      out.write("\t\tif(cudKey == 'INSERT'){\r\n");
      out.write("\t\t\tgridMain.cs_deleteRow(rodid); \r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tif(MsgManager.confirmMsg(\"INF002\")){\r\n");
      out.write("\t\t\t\tgridMain.cs_deleteRow(rodid); \r\n");
      out.write("\t\t\t\tfn_rmoveAction();\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\treturn true;\r\n");
      out.write("\t\t\t}\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tdhtmlx.alert(\"정산된 내역은 수정,삭제가 불가능합니다.\");\r\n");
      out.write("\t\treturn true;\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_rmoveAction(){\r\n");
      out.write("\tvar scmYn = $('#paramScmYn').val();\r\n");
      out.write("\tif(scmYn == 1){\r\n");
      out.write("\t\tvar jsonStr = gridMain.getJsonUpdated();\r\n");
      out.write("\t    if (jsonStr == null || jsonStr.length <= 0) return; \r\n");
      out.write("\t\t  $(\"#jsonData\").val(jsonStr);\r\n");
      out.write("\t   var params = $(\"#pForm\").serialize();  \r\n");
      out.write("\t   $.ajax({\r\n");
      out.write("\t    \turl:  \"/erp/scm/work/partners/remicon/remiconS/gridMainSaveScm\",\r\n");
      out.write("\t        type: \"POST\",\r\n");
      out.write("\t        contentType: 'application/x-www-form-urlencoded; charset=UTF-8', \r\n");
      out.write("\t        data: params,\r\n");
      out.write("\t        dataType: \"json\",\r\n");
      out.write("\t        beforeSend: function() {\r\n");
      out.write("\t            subLayout.cells(\"c\").progressOn();\r\n");
      out.write("\t        },\r\n");
      out.write("\t        success: function(data,status,xhr, settings) {\r\n");
      out.write("\t        \tif(xhr.getResponseHeader(\"EXCEPTION\")==\"Y\") {\r\n");
      out.write("\t      \t\t\tvar exObj = JSON.parse(xhr.responseText);\r\n");
      out.write("\t      \t\t\tif(exObj.EXCEPTION_TYPE == 'BIZ'){\r\n");
      out.write("\t      \t\t\t\talert(MsgManager.getMsg(exObj.EXCEPTION_MSG_CODE, exObj.EXCEPTION_MSG_PARAM));\r\n");
      out.write("\t      \t\t\t}else{\r\n");
      out.write("\t      \t\t\t\talert(exObj.EXCEPTION_MSG_CODE);\r\n");
      out.write("\t      \t\t\t}\r\n");
      out.write("\t      \t\t\treturn;\r\n");
      out.write("\t      \t\t}else{\r\n");
      out.write("\t      \t\t\tdhtmlx.alert(\"삭제 되었습니다.\");\r\n");
      out.write("\t\t        \tfn_search(); \t\r\n");
      out.write("\t      \t\t}      \r\n");
      out.write("\t        },\r\n");
      out.write("\t        complete: function() {\r\n");
      out.write("\t        \tsubLayout.cells(\"c\").progressOff();\r\n");
      out.write("\t        }\r\n");
      out.write("\t   });\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tvar jsonStr = gridMain.getJsonUpdated();\r\n");
      out.write("\t    if (jsonStr == null || jsonStr.length <= 0) return; \r\n");
      out.write("\t\t  $(\"#jsonData\").val(jsonStr);\r\n");
      out.write("\t   var params = $(\"#pForm\").serialize();  \r\n");
      out.write("\t   $.ajax({\r\n");
      out.write("\t    \turl:  \"/erp/scm/work/partners/remicon/remiconS/gridMainSave\",\r\n");
      out.write("\t        type: \"POST\",\r\n");
      out.write("\t        contentType: 'application/x-www-form-urlencoded; charset=UTF-8', \r\n");
      out.write("\t        data: params,\r\n");
      out.write("\t        dataType: \"json\",\r\n");
      out.write("\t        beforeSend: function() {\r\n");
      out.write("\t            subLayout.cells(\"c\").progressOn();\r\n");
      out.write("\t        },\r\n");
      out.write("\t        success: function(data,status, xhr, settings) {\r\n");
      out.write("\t        \tif(xhr.getResponseHeader(\"EXCEPTION\")==\"Y\") {\r\n");
      out.write("\t      \t\t\tvar exObj = JSON.parse(xhr.responseText);\r\n");
      out.write("\t      \t\t\tif(exObj.EXCEPTION_TYPE == 'BIZ'){\r\n");
      out.write("\t      \t\t\t\talert(MsgManager.getMsg(exObj.EXCEPTION_MSG_CODE, exObj.EXCEPTION_MSG_PARAM));\r\n");
      out.write("\t      \t\t\t}else{\r\n");
      out.write("\t      \t\t\t\talert(exObj.EXCEPTION_MSG_CODE);\r\n");
      out.write("\t      \t\t\t}\r\n");
      out.write("\t      \t\t\treturn;\r\n");
      out.write("\t      \t\t}else{\r\n");
      out.write("\t      \t\t\tdhtmlx.alert(\"삭제 되었습니다.\");\r\n");
      out.write("\t\t        \tfn_search(); \t\r\n");
      out.write("\t      \t\t}      \r\n");
      out.write("\t        },\r\n");
      out.write("\t        complete: function() {\r\n");
      out.write("\t        \tsubLayout.cells(\"c\").progressOff();\r\n");
      out.write("\t        }\r\n");
      out.write("\t   });\r\n");
      out.write("\t}\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("function fn_exit(){\r\n");
      out.write("\tvar TabId = \"8000000011\";\r\n");
      out.write("\tvar exitVal = cs_close_event([gridMain]);\r\n");
      out.write("\tif(exitVal){\r\n");
      out.write("\t\tmainTabbar.tabs(TabId).close();\t\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tif(MsgManager.confirmMsg(\"WRN012\")){\r\n");
      out.write("\t\t\tmainTabbar.tabs(TabId).close();\t\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\treturn true;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t} \r\n");
      out.write("\t\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("<form id=\"pForm\" name=\"pForm\">\r\n");
      out.write("    <input type=\"hidden\" name=\"jsonData\" id=\"jsonData\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramCustCd\" id=\"paramCustCd\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramInvoiceNo\" id=\"paramInvoiceNo\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramScmYn\" id=\"paramScmYn\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramSiteCd\" id=\"paramSiteCd\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramMrNo\" id=\"paramMrNo\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramInqNo\" id=\"paramInqNo\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramPoNo\" id=\"paramPoNo\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramSqNo\" id=\"paramSqNo\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramCostId\" id=\"paramCostId\">\r\n");
      out.write("    <input type=\"hidden\" name=\"paramDeliSeq\" id=\"paramDeliSeq\">\r\n");
      out.write("</form>\r\n");
      out.write("<div id=\"bootContainer\">\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title1\">의뢰처</label>\r\n");
      out.write("\t\t\t\t<input name=\"custCd2\" id=\"custCd2\" type=\"text\" value=\"\" class=\"searchCode\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t\t<input name=\"custDs2\" id=\"custDs2\" type=\"text\" value=\"\" class=\"searchName\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"bootContainer2\">\r\n");
      out.write("  <form name=\"frmMain\" id=\"frmMain\">\r\n");
      out.write("    <input name=\"siteCd\"     id=\"siteCd\"     type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"siteDs\"     id=\"siteDs\"     type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"poNo\"       id=\"poNo\"       type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"mrNo\"       id=\"mrNo\"       type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"inqNo\"      id=\"inqNo\"      type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"invoiceNo\"  id=\"invoiceNo\"  type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"custCd\"     id=\"custCd\"     type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"sqNo\"       id=\"sqNo\"       type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"inputBc\"    id=\"inputBc\"    type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"invoiceDt\"  id=\"invoiceDt\"  type=\"hidden\" value=\"\" >\r\n");
      out.write("    <input name=\"locationAt\" id=\"locationAt\" type=\"hidden\" value=\"\" >\r\n");
      out.write("     <input name=\"costId\"    id=\"costId\"     type=\"hidden\" value=\"\" >\r\n");
      out.write("     <input name=\"deliSeq\"    id=\"deliSeq\"   type=\"hidden\" value=\"\" >\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">거래처명</label>\r\n");
      out.write("\t\t\t\t<input name=\"custDs\" id=\"custDs\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">담당자 이름</label>\r\n");
      out.write("\t\t\t\t<input name=\"chargeNm\" id=\"chargeNm\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">담당자 전화번호</label>\r\n");
      out.write("\t\t\t\t<input name=\"chargetelNo\" id=\"chargetelNo\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">전화번호</label>\r\n");
      out.write("\t\t\t\t<input name=\"telNo\" id=\"telNo\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">의뢰일자</label>\r\n");
      out.write("\t\t\t\t<input name=\"invoiceDt\" id=\"invoiceDt\" type=\"text\" value=\"\" class=\"inputbox1 format_date\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">입고장소</label>\r\n");
      out.write("\t\t\t\t<input name=\"locationAt\" id=\"locationAt\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">품목코드</label>\r\n");
      out.write("\t\t\t\t<input name=\"itemCd\" id=\"itemCd\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">품목명(한글)</label>\r\n");
      out.write("\t\t\t\t<input name=\"kitemDs\" id=\"kitemDs\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">규격</label>\r\n");
      out.write("\t\t\t\t<input name=\"itemSz\" id=\"itemSz\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">비목</label>\r\n");
      out.write("\t\t\t\t<input name=\"itemUc\" id=\"itemUc\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">단위</label>\r\n");
      out.write("\t\t\t\t<input name=\"itemUt\" id=\"itemUt\" type=\"text\" value=\"\" class=\"inputbox1\" readonly=\"readonly\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">청구수량</label>\r\n");
      out.write("\t\t\t\t<input name=\"itemQn\" id=\"itemQn\" type=\"text\" value=\"\" class=\"inputbox1 format_int\" readonly=\"readonly\" style=\"text-align: right;\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">청구단가</label>\r\n");
      out.write("\t\t\t\t<input name=\"itemUp\" id=\"itemUp\" type=\"text\" value=\"\" class=\"inputbox1 format_int\" readonly=\"readonly\" style=\"text-align: right;\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml50\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">부가세</label>\r\n");
      out.write("\t\t\t\t<input name=\"itemVat\" id=\"itemVat\" type=\"text\" value=\"\" class=\"inputbox1 format_int\" readonly=\"readonly\" style=\"text-align: right;\" onkeydown=\"event.preventDefault()\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div> \r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">합계</label>\r\n");
      out.write("\t\t\t\t<input name=\"itemSum\" id=\"itemSum\" type=\"text\" value=\"\" class=\"inputbox1 format_int\" readonly=\"readonly\" style=\"text-align: right;\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("  </form>\t\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"bootContainer3\">\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">입고예정일자</label>\r\n");
      out.write("\t\t\t\t<input name=\"outputDt\" id=\"outputDt\" type=\"text\" value=\"\" class=\"searchDate format_date\" disabled=\"disabled\">\r\n");
      out.write("\t\t\t\t<input type=\"button\" id=\"calpicker\" name=\"calpicker\" class=\"calicon inputCal\" disabled=\"disabled\"> \r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">기본수량</label>\r\n");
      out.write("\t\t\t\t<input name=\"orderQn\" id=\"orderQn\" type=\"text\" value=\"\" class=\"searchCode\">\r\n");
      out.write("\t\t\t</div> \r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">RFID No</label>\r\n");
      out.write("\t\t\t\t<input name=\"rfidNo\" id=\"rfidNo\" type=\"number\" value=\"\" class=\"searchName\">\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div class=\"listHeader\">\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"ml30\">\r\n");
      out.write("\t\t\t\t<label class=\"title2\">기타사항</label>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"left\">\r\n");
      out.write("\t\t\t<div class=\"mlZero\">\r\n");
      out.write("\t\t\t\t<textarea rows=\"4\" cols=\"51\" name=\"rmks\" id=\"rmks\" ></textarea>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"container\"></div>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
